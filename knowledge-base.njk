---
pagination:
  data: collections.novel
  size: 1
  alias: novel
permalink: "/lore/{{ novel.fileSlug }}.json"
---
{
  "title": {{ novel.data.title | dump | safe }},
  "author": {{ novel.data.author | dump | safe }},
  "chapters": [
    {%- set novelSlug = novel.fileSlug %}
    {%- set chaptersForThisNovel = collections.chapter | filterByNovel(novelSlug) | sort(false, false, 'fileSlug') %}
    {%- for chapter in chaptersForThisNovel %}
      {
        "title": {{ chapter.data.title | dump | safe }},
        "content": {{ chapter.templateContent | dump | safe }}
      }
      {%- if not loop.last %},{% endif %}
    {%- endfor %}
  ]
}
